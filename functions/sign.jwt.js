"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _jsonwebtoken=_interopRequireDefault(require("jsonwebtoken")),_config=_interopRequireDefault(require("../config/config")),_logging=require("../config/logging"),NAMESPACE="Auth",signJWT=function(a,b){var c=new Date().getTime(),d=c+1e5*+_config["default"].EXPIRE_TIME,e=Math.floor(d/1e3);(0,_logging.info)(NAMESPACE,"Attempting to sign token for ".concat(a.names));try{_jsonwebtoken["default"].sign({names:a.names},_config["default"].TOKEN_SECRET,{issuer:_config["default"].TOKEN_ISSUER,algorithm:"HS256",expiresIn:e},function(a,c){a?b(a,null):c&&b(null,c)})}catch(a){(0,_logging.error)(NAMESPACE,a.message,a),b(a,null)}},_default=signJWT;exports["default"]=_default;